#
# Warning: do not edit by hand, this file was generated by Heroics:
#
#   https://github.com/heroku/heroics
#

module <%= @module_name %>
  class Client
    def initialize(url)
      @client = Heroics.client_from_schema(SCHEMA, url)
    end
    <% for resource in @resources %>

    def <%= resource.name %>
      @<%= resource.name %>_resource ||= <%= resource.class_name %>.new(@client)
    end
    <% end %>
  end

  private
  <% for resource in @resources %>

  class <%= resource.class_name %>
    def initialize(client)
      @client = client
    end
    <% for link in resource.links %>

    def <%= link.name %>(*args)
      @client.<%= resource.name %>.<%= link.name %>(*args)
    end
    <% end %>
  end
  <% end %>

  SCHEMA = Heroics::Schema.new(MultiJson.decode(<<-HEROICS_SCHEMA))
<%= @schema %>
HEROICS_SCHEMA
end
